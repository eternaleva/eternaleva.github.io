<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"hide","padding":18,"offset":12,"onmobile":false,"width":240},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.json"};
  </script>

  <meta name="description" content="May you found your worth in the waking world">
<meta property="og:type" content="website">
<meta property="og:title" content="Maktub">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="Maktub">
<meta property="og:description" content="May you found your worth in the waking world">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Tian">
<meta property="article:tag" content="Java">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/page/3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Maktub</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Maktub</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Java、程序、C和杂谈</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">42</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">17</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/01/30/SpringCloud-OpenFeign/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/2.jpeg">
      <meta itemprop="name" content="Tian">
      <meta itemprop="description" content="May you found your worth in the waking world">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Maktub">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/01/30/SpringCloud-OpenFeign/" class="post-title-link" itemprop="url">SpringCloud-OpenFeign</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-01-30 17:30:15" itemprop="dateCreated datePublished" datetime="2022-01-30T17:30:15+08:00">2022-01-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-04-21 17:13:49" itemprop="dateModified" datetime="2024-04-21T17:13:49+08:00">2024-04-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%A1%86%E6%9E%B6/" itemprop="url" rel="index"><span itemprop="name">框架</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>678</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="OpenFeign"><a href="#OpenFeign" class="headerlink" title="OpenFeign"></a>OpenFeign</h1><p>官网：<a target="_blank" rel="noopener" href="https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/#netflix-feign-starter">https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/#netflix-feign-starter</a><br>Feign is a declarative web service client. It makes writing web service clients easier.<br>Feign是一个声明式的Web客户端，使用它可以更轻松的编写网页服务请求。</p>
<h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><h2 id="依赖"><a href="#依赖" class="headerlink" title="依赖"></a>依赖</h2><p>spring-cloud-starter-openfeign</p>
<h2 id="写接口并配置FeignClient"><a href="#写接口并配置FeignClient" class="headerlink" title="写接口并配置FeignClient"></a>写接口并配置FeignClient</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FeignClient(&quot;xxxService&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">xxxService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@GetMapping(&quot;xxx/xxx/xxx&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getFunction</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="配置类或启动类上配置启用Feign"><a href="#配置类或启动类上配置启用Feign" class="headerlink" title="配置类或启动类上配置启用Feign"></a>配置类或启动类上配置启用Feign</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@EnableFeignClients(basePackages = &quot;learn.myproject.xxx.feign&quot;)</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OrderProviderApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(OrderProviderApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/01/30/SpringCloud-GateWay/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/2.jpeg">
      <meta itemprop="name" content="Tian">
      <meta itemprop="description" content="May you found your worth in the waking world">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Maktub">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/01/30/SpringCloud-GateWay/" class="post-title-link" itemprop="url">SpringCloud-GateWay</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-01-30 17:09:10" itemprop="dateCreated datePublished" datetime="2022-01-30T17:09:10+08:00">2022-01-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-04-21 17:13:44" itemprop="dateModified" datetime="2024-04-21T17:13:44+08:00">2024-04-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%A1%86%E6%9E%B6/" itemprop="url" rel="index"><span itemprop="name">框架</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>999</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Gateway"><a href="#Gateway" class="headerlink" title="Gateway"></a>Gateway</h1><p>官网：<a target="_blank" rel="noopener" href="https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/#gateway-starter">https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/#gateway-starter</a><br>Spring Cloud Gateway aims to provide a simple, yet effective way to route to APIs and provide cross cutting concerns to them such as: security, monitoring/metrics, and resiliency.<br>网关是作为分发，安全控制、监测等，访问的第一道防线。</p>
<p>采用的webflux技术，是非响应式编程</p>
<h1 id="术语"><a href="#术语" class="headerlink" title="术语"></a>术语</h1><h2 id="Route-路由"><a href="#Route-路由" class="headerlink" title="Route 路由"></a>Route 路由</h2><p>路由：即将按照匹配规则(Predicate)的HTTP请求转发到对应的服务上</p>
<h2 id="Predicate-匹配"><a href="#Predicate-匹配" class="headerlink" title="Predicate 匹配"></a>Predicate 匹配</h2><p>匹配：制定匹配策略，可以识别任何带有特定规则的HTTP请求。比如匹配某些Header，某些参数等等</p>
<h2 id="Filter-过滤"><a href="#Filter-过滤" class="headerlink" title="Filter 过滤"></a>Filter 过滤</h2><p>过滤：制定过滤策略，选择哪些请求可以通过网关并被转发</p>
<h1 id="工作原理"><a href="#工作原理" class="headerlink" title="工作原理"></a>工作原理</h1><p>Clients make requests to Spring Cloud Gateway. If the Gateway Handler Mapping determines that a request matches a route, it is sent to the Gateway Web Handler. This handler runs the request through a filter chain that is specific to the request. The reason the filters are divided by the dotted line is that filters can run logic both before and after the proxy request is sent. All “pre” filter logic is executed. Then the proxy request is made. After the proxy request is made, the “post” filter logic is run.</p>
<h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><h1 id="SpringBoot整合SpringCloudGateway"><a href="#SpringBoot整合SpringCloudGateway" class="headerlink" title="SpringBoot整合SpringCloudGateway"></a>SpringBoot整合SpringCloudGateway</h1><h2 id="依赖"><a href="#依赖" class="headerlink" title="依赖"></a>依赖</h2><p>spring-cloud-starter-gateway</p>
<div class="note info">
            <p>如果要搭配nacos，使用lb://，则还需要引入spring-cloud-starter-loadbalancer依赖</p>
          </div>

<h1 id="练手案例"><a href="#练手案例" class="headerlink" title="练手案例"></a>练手案例</h1><h2 id="整合JWT实现登陆校验"><a href="#整合JWT实现登陆校验" class="headerlink" title="整合JWT实现登陆校验"></a>整合JWT实现登陆校验</h2><ol>
<li></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/12/27/JDK/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/2.jpeg">
      <meta itemprop="name" content="Tian">
      <meta itemprop="description" content="May you found your worth in the waking world">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Maktub">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/27/JDK/" class="post-title-link" itemprop="url">JDK</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-12-27 18:27:42" itemprop="dateCreated datePublished" datetime="2021-12-27T18:27:42+08:00">2021-12-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-04-21 16:41:25" itemprop="dateModified" datetime="2024-04-21T16:41:25+08:00">2024-04-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index"><span itemprop="name">编程语言</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>939</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2021/12/27/JDK/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/12/01/ElasticSearch/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/2.jpeg">
      <meta itemprop="name" content="Tian">
      <meta itemprop="description" content="May you found your worth in the waking world">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Maktub">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/01/ElasticSearch/" class="post-title-link" itemprop="url">ElasticSearch</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-12-01 20:50:54" itemprop="dateCreated datePublished" datetime="2021-12-01T20:50:54+08:00">2021-12-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-04-21 23:05:51" itemprop="dateModified" datetime="2024-04-21T23:05:51+08:00">2024-04-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%A1%86%E6%9E%B6/" itemprop="url" rel="index"><span itemprop="name">框架</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>734</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>强大的搜索开源引擎</p>
<h1 id="正向索引和倒排索引"><a href="#正向索引和倒排索引" class="headerlink" title="正向索引和倒排索引"></a>正向索引和倒排索引</h1><h2 id="倒排索引"><a href="#倒排索引" class="headerlink" title="倒排索引"></a>倒排索引</h2><ol>
<li>Document（文档）：每条数据就是一个文档</li>
<li>term（词条）：将内容按照语义分成词条</li>
<li>id：数据id</li>
</ol>
<p>先分词条，先查词条，再查文档</p>
<h1 id="ES数据格式"><a href="#ES数据格式" class="headerlink" title="ES数据格式"></a>ES数据格式</h1><p>ElasticSearch是面向文档存储的，文档数据会被序列化为Json格式存储。</p>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><h2 id="安装ES"><a href="#安装ES" class="headerlink" title="安装ES"></a>安装ES</h2><h2 id="Kibana"><a href="#Kibana" class="headerlink" title="Kibana"></a>Kibana</h2><h2 id="IK分词器插件"><a href="#IK分词器插件" class="headerlink" title="IK分词器插件"></a>IK分词器插件</h2><p>IK分词器的两个模式</p>
<ol>
<li>ik_smart</li>
<li>ik_max_word<br>拓展词库</li>
</ol>
<h1 id="索引库操作"><a href="#索引库操作" class="headerlink" title="索引库操作"></a>索引库操作</h1><h2 id="mapping映射"><a href="#mapping映射" class="headerlink" title="mapping映射"></a>mapping映射</h2><h3 id="type"><a href="#type" class="headerlink" title="type"></a>type</h3><ol>
<li>字符串：text、keyword</li>
<li>数值：long、integer、short、byte、double、float</li>
<li>布尔：boolean</li>
<li>日期：date</li>
<li>对象：object</li>
</ol>
<p>es自带数组类型，允许一个类型有多个值。</p>
<h3 id="index"><a href="#index" class="headerlink" title="index"></a>index</h3><p>是否创建索引、默认true</p>
<h3 id="analyzer"><a href="#analyzer" class="headerlink" title="analyzer"></a>analyzer</h3><p>分词器</p>
<h3 id="properties"><a href="#properties" class="headerlink" title="properties"></a>properties</h3><p>一个字段的子字段</p>
<h2 id="DSL操作"><a href="#DSL操作" class="headerlink" title="DSL操作"></a>DSL操作</h2><p>基本语法</p>
<h3 id="创建索引库"><a href="#创建索引库" class="headerlink" title="创建索引库"></a>创建索引库</h3><p>PUT /索引库</p>
<h3 id="查询索引库"><a href="#查询索引库" class="headerlink" title="查询索引库"></a>查询索引库</h3><p>GET /索引库</p>
<h3 id="修改索引库"><a href="#修改索引库" class="headerlink" title="修改索引库"></a>修改索引库</h3><p>索引库和Mapping一旦建立，无法修改，但是可以添加新的Mapping字段<br>添加字段<br><code>PUT /索引库/_mapping</code></p>
<h3 id="删除索引库"><a href="#删除索引库" class="headerlink" title="删除索引库"></a>删除索引库</h3><p>DELETE /索引库</p>
<h3 id="新增文档"><a href="#新增文档" class="headerlink" title="新增文档"></a>新增文档</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">POST &#x2F;索引库&#x2F;_doc&#x2F;文档id</span><br><span class="line">&#123;</span><br><span class="line">  Json</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="查询文档"><a href="#查询文档" class="headerlink" title="查询文档"></a>查询文档</h3><h3 id="删除文档"><a href="#删除文档" class="headerlink" title="删除文档"></a>删除文档</h3><div class="note info">
            <p>每次操作（除了GET），都会导致文档版本增加</p>
          </div>
<h3 id="修改文档"><a href="#修改文档" class="headerlink" title="修改文档"></a>修改文档</h3><ol>
<li>全量修改<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">PUT &#x2F;索引库&#x2F;_doc&#x2F;文档id</span><br><span class="line">&#123;</span><br><span class="line">  Json</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
删除旧文档，添加新文档</li>
<li>增量修改<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">POST &#x2F;索引库&#x2F;_doc&#x2F;文档id</span><br><span class="line">&#123;</span><br><span class="line">  &quot;doc&quot;:</span><br><span class="line">    &#123;字段&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h1 id="RestClient操作索引库"><a href="#RestClient操作索引库" class="headerlink" title="RestClient操作索引库"></a>RestClient操作索引库</h1><h2 id="增删改查"><a href="#增删改查" class="headerlink" title="增删改查"></a>增删改查</h2><p>copy_to</p>
<h2 id="导包"><a href="#导包" class="headerlink" title="导包"></a>导包</h2><pre><code>

 
 
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/12/01/RabbitMQ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/2.jpeg">
      <meta itemprop="name" content="Tian">
      <meta itemprop="description" content="May you found your worth in the waking world">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Maktub">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/01/RabbitMQ/" class="post-title-link" itemprop="url">RabbitMQ</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-12-01 15:16:48" itemprop="dateCreated datePublished" datetime="2021-12-01T15:16:48+08:00">2021-12-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-04-21 22:25:47" itemprop="dateModified" datetime="2024-04-21T22:25:47+08:00">2024-04-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%A1%86%E6%9E%B6/" itemprop="url" rel="index"><span itemprop="name">框架</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>441</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><h1 id="模型介绍"><a href="#模型介绍" class="headerlink" title="模型介绍"></a>模型介绍</h1><h1 id="基础使用"><a href="#基础使用" class="headerlink" title="基础使用"></a>基础使用</h1><h1 id="SpringAMQP"><a href="#SpringAMQP" class="headerlink" title="SpringAMQP"></a>SpringAMQP</h1><h2 id="WorkQueue模型"><a href="#WorkQueue模型" class="headerlink" title="WorkQueue模型"></a>WorkQueue模型</h2><p>多个消费者绑定一个队列，一个消息只能被一个消费者消费。默认是轮训机制。</p>
<ol>
<li>prefetch</li>
</ol>
<h2 id="发布订阅模型"><a href="#发布订阅模型" class="headerlink" title="发布订阅模型"></a>发布订阅模型</h2><p>允许将一个消息发送给多个消费者，因此需要引入exchange</p>
<div class="note info">
            <p>exchange只负责转发，不负责存储，路由失败则消息丢失。</p>
          </div>

<h2 id="Fanout"><a href="#Fanout" class="headerlink" title="Fanout"></a>Fanout</h2><ol>
<li>配置FanoutConfig<br>声明FanoutExchange<br>声明队列<br>绑定队列和交换机<br>（以上都是用Bean实现）</li>
<li>各个Bean<br>队列：Queue<br>交换机：FanoutExchange<br>绑定关系：Binding </li>
</ol>
<h2 id="Direct"><a href="#Direct" class="headerlink" title="Direct"></a>Direct</h2><p>根据规则，发送消息到指定队列<br>绑定的时候指定RoutingKey<br>一个队列可以绑定多个Key<br>通过@RabbitListener注解绑定</p>
<h2 id="Topic"><a href="#Topic" class="headerlink" title="Topic"></a>Topic</h2><p>发布订阅，必须是多个单词的列表<br>绑定可以用通配：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 表示0个或多个</span><br><span class="line">* 表示1个</span><br></pre></td></tr></table></figure>

<h2 id="消息转换器"><a href="#消息转换器" class="headerlink" title="消息转换器"></a>消息转换器</h2><p>如果要修改消息转换器，需要定义一个MessageConverter的Bean。<br>推荐用JSON方法序列化（Jackson）<br>发布者和消费者都需要配置该Bean</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/11/19/SpringCloud/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/2.jpeg">
      <meta itemprop="name" content="Tian">
      <meta itemprop="description" content="May you found your worth in the waking world">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Maktub">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/11/19/SpringCloud/" class="post-title-link" itemprop="url">SpringCloud</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-11-19 14:11:23" itemprop="dateCreated datePublished" datetime="2021-11-19T14:11:23+08:00">2021-11-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-04-21 17:14:05" itemprop="dateModified" datetime="2024-04-21T17:14:05+08:00">2024-04-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%A1%86%E6%9E%B6/" itemprop="url" rel="index"><span itemprop="name">框架</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>4.4k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>7 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="微服务概念"><a href="#微服务概念" class="headerlink" title="微服务概念"></a>微服务概念</h1><h2 id="微服务架构分类"><a href="#微服务架构分类" class="headerlink" title="微服务架构分类"></a>微服务架构分类</h2><ol>
<li>dubbo</li>
<li>SpringCloud</li>
<li>SpringCloudAlibaba</li>
</ol>
<h2 id="服务拆分和远程调用"><a href="#服务拆分和远程调用" class="headerlink" title="服务拆分和远程调用"></a>服务拆分和远程调用</h2><ol>
<li>不同微服务，不开发相同业务</li>
<li>微服务相对独立，不要访问其他微服务数据库</li>
<li>微服务将自己的业务暴露，供其他服务调用</li>
</ol>
<h1 id="SpringCloud"><a href="#SpringCloud" class="headerlink" title="SpringCloud"></a>SpringCloud</h1><h2 id="微服务远程调用"><a href="#微服务远程调用" class="headerlink" title="微服务远程调用"></a>微服务远程调用</h2><h2 id="RestTemplate"><a href="#RestTemplate" class="headerlink" title="RestTemplate"></a>RestTemplate</h2><p>使用RestTemplate对象，发送http请求到对应微服务，然后获取数据。 </p>
<h2 id="提供者"><a href="#提供者" class="headerlink" title="提供者"></a>提供者</h2><p>暴露接口给其他微服务调用的</p>
<h2 id="消费者"><a href="#消费者" class="headerlink" title="消费者"></a>消费者</h2><p>调用其他接口的微服务<br>两者之间关系是相对的</p>
<h2 id="Eureka"><a href="#Eureka" class="headerlink" title="Eureka"></a>Eureka</h2><p>向消费者提供服务提供者的具体信息，有负载均衡，感知提供者状态。</p>
<h2 id="Eureka注册中心"><a href="#Eureka注册中心" class="headerlink" title="Eureka注册中心"></a>Eureka注册中心</h2><h2 id="Eureka客户"><a href="#Eureka客户" class="headerlink" title="Eureka客户"></a>Eureka客户</h2><h2 id="SpringBoot配置Eureka"><a href="#SpringBoot配置Eureka" class="headerlink" title="SpringBoot配置Eureka"></a>SpringBoot配置Eureka</h2><ol>
<li>导包（服务导server，客户端导client）<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-server<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>启动eureka配置<br>在BootStarter上增加注解<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@EnableEurekaServer</span><br></pre></td></tr></table></figure></li>
<li>配置yml<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8888</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">eureka-server</span> <span class="comment">#eureka服务名称</span></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span> <span class="comment">#eureka地址信息</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://127.0.0.1:8888/erueka</span> <span class="comment">#默认服务地址</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="Eureka服务注册"><a href="#Eureka服务注册" class="headerlink" title="Eureka服务注册"></a>Eureka服务注册</h2><ol>
<li>导包</li>
<li>配置yml<br>1）成为注册中心<br>2）服务注册到注册中心</li>
</ol>
<h2 id="Eureka服务拉取"><a href="#Eureka服务拉取" class="headerlink" title="Eureka服务拉取"></a>Eureka服务拉取</h2><h2 id="Eureka负载均衡"><a href="#Eureka负载均衡" class="headerlink" title="Eureka负载均衡"></a>Eureka负载均衡</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@LoadBanlanced</span><br></pre></td></tr></table></figure>
<h2 id="Eureka集群"><a href="#Eureka集群" class="headerlink" title="Eureka集群"></a>Eureka集群</h2><ol>
<li>创建多个Eureka各为注册中心，不同端口，互相注册到其他的注册中心</li>
<li>其他服务注册到各个Eureka的注册中心</li>
</ol>
<h2 id="ribbon负载均衡（已过时）"><a href="#ribbon负载均衡（已过时）" class="headerlink" title="ribbon负载均衡（已过时）"></a>ribbon负载均衡（已过时）</h2><h3 id="ribbon自定义负载均衡"><a href="#ribbon自定义负载均衡" class="headerlink" title="ribbon自定义负载均衡"></a>ribbon自定义负载均衡</h3><ol>
<li>自定义Rule（全局）</li>
<li>配置文件，指定微服务策略<h3 id="ribbon饥饿加载"><a href="#ribbon饥饿加载" class="headerlink" title="ribbon饥饿加载"></a>ribbon饥饿加载</h3>刚开始运行eureka不会加载实例，第一次访问时才会加载（懒加载）<br>饥饿加载：刚运行时，将实例一并加载。<br>在yml里面配置。</li>
</ol>
<h2 id="Nacos"><a href="#Nacos" class="headerlink" title="Nacos"></a>Nacos</h2><p>比eureka功能丰富，alibaba下面，国内受欢迎高<br>通用ribbon负载均衡</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>安装服务，并启用</p>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><ol>
<li><p>导包<br>项目父工程导入管理依赖（负责管理nacos所有依赖的版本）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spring-cloud-alibaba-dependencies</span><br></pre></td></tr></table></figure>
<p>子工程导客户端依赖</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spring-cloud-starter-alibaba-nacos-discovery</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置nacos地址：server-addr</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">spring</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">xxxService</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">nacos:</span></span><br><span class="line">      <span class="attr">server-addr:</span> <span class="string">localhost:8848</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>启动服务，则会自动注册导nacos</p>
</li>
</ol>
<h2 id="Nacos集群"><a href="#Nacos集群" class="headerlink" title="Nacos集群"></a>Nacos集群</h2><h3 id="分级存储模型"><a href="#分级存储模型" class="headerlink" title="分级存储模型"></a>分级存储模型</h3><ol>
<li>服务集群</li>
<li>服务实例</li>
</ol>
<h3 id="配置-1"><a href="#配置-1" class="headerlink" title="配置"></a>配置</h3><p>yml文件，xxx就是一个区域的名字，该服务就注册在这个区域内</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.cloud.nacos.discovery.cluster-name:</span> <span class="string">xxx</span></span><br></pre></td></tr></table></figure>

<h3 id="跨集群调用"><a href="#跨集群调用" class="headerlink" title="跨集群调用"></a>跨集群调用</h3><h2 id="NacosRule"><a href="#NacosRule" class="headerlink" title="NacosRule"></a>NacosRule</h2><p>yml里面配置NacosRule</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">xxx....ribbon.NacosRule</span></span><br></pre></td></tr></table></figure>
<ol>
<li>优先选择本地服务，本地服务停掉后才会跨集群调用</li>
<li>可以配置权重访问的（0.1-1之间）按照权重比值分配<br>权重可以配置为0，表示不会访问，可以用来做服务升级（用户不感知）</li>
</ol>
<h2 id="环境隔离Namespace"><a href="#环境隔离Namespace" class="headerlink" title="环境隔离Namespace"></a>环境隔离Namespace</h2><p>不同的namespace不能访问。</p>
<ol>
<li>新建命名空间</li>
<li>在服务的yml里配置对应namespace的id</li>
</ol>
<h2 id="Nacos和Eureka区别"><a href="#Nacos和Eureka区别" class="headerlink" title="Nacos和Eureka区别"></a>Nacos和Eureka区别</h2><ol>
<li>Nacos临时实例和永久实例</li>
<li>Nacos有主动推送（如果有实例挂掉，会进行通知）</li>
<li>都有定时主动pull</li>
<li>都有心跳检测</li>
</ol>
<h3 id="临时实例"><a href="#临时实例" class="headerlink" title="临时实例"></a>临时实例</h3><p>ephemeral：true为临时，false为永久<br>Nacos默认集群模式AP，存在非临时实例则为CP模式</p>
<h2 id="Nacos配置管理"><a href="#Nacos配置管理" class="headerlink" title="Nacos配置管理"></a>Nacos配置管理</h2><p>可以实现</p>
<ol>
<li>配置更改热更新</li>
<li>多环境配置共享<h3 id="统一配置管理"><a href="#统一配置管理" class="headerlink" title="统一配置管理"></a>统一配置管理</h3></li>
<li>在nacos中添加配置文件</li>
<li>在微服务中引用nacos的Config依赖</li>
<li>创建bootstrap.yml，配置nacos地址</li>
<li>启动服务时，服务会先从nacos读取配置文件，然后加载配置，运行该实例</li>
</ol>
<h3 id="热更新"><a href="#热更新" class="headerlink" title="热更新"></a>热更新</h3><ol>
<li>在@Value注入的变量所在的类上，配置@RefreshScope</li>
<li>专门一个配置类上，@ConfigureationProperties</li>
</ol>
<h3 id="多环境配置共享"><a href="#多环境配置共享" class="headerlink" title="多环境配置共享"></a>多环境配置共享</h3><p>在nacos里创建 xxxService.yml 里面配置该服务共享的配置<br>相同配置的优先级：xxxService-xxx.yml &gt; xxxService.yml &gt; 本地配置</p>
<h2 id="Feign"><a href="#Feign" class="headerlink" title="Feign"></a>Feign</h2><p>Feign是使用Http协议的</p>
<h2 id="定义和使用Feign客户端"><a href="#定义和使用Feign客户端" class="headerlink" title="定义和使用Feign客户端"></a>定义和使用Feign客户端</h2><h3 id="导包"><a href="#导包" class="headerlink" title="导包"></a>导包</h3><h3 id="服务类上加-EnableFeignClients"><a href="#服务类上加-EnableFeignClients" class="headerlink" title="服务类上加@EnableFeignClients"></a>服务类上加@EnableFeignClients</h3><h3 id="编写Feign接口"><a href="#编写Feign接口" class="headerlink" title="编写Feign接口"></a>编写Feign接口</h3><p>使用注解<code>@FeignClient(&quot;xxxService&quot;)</code>，然后编写方法，并用SpringMVC注解标明请求URL。</p>
<div class="note info">
            <p>Feign本身自带负载均衡包依赖。</p>
          </div>


<h2 id="自定义Feign配置"><a href="#自定义Feign配置" class="headerlink" title="自定义Feign配置"></a>自定义Feign配置</h2><ol>
<li>日志</li>
<li>解码</li>
<li>编码</li>
</ol>
<h3 id="基于配置文件"><a href="#基于配置文件" class="headerlink" title="基于配置文件"></a>基于配置文件</h3><p>日志：</p>
<ol>
<li>default：全局</li>
<li>xxxService：指定服务</li>
</ol>
<h3 id="基于配置类"><a href="#基于配置类" class="headerlink" title="基于配置类"></a>基于配置类</h3><ol>
<li>写一个配置类</li>
<li>配置一个Logger.level的Bean<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FeignConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Logger.<span class="function">level <span class="title">feignLogLevel</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Logger.level.BASIC;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>在对应需要调用服务的类上进行全局/指定配置</li>
<li><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@EnableFeignClients(defaultConfiguration = FeignConfig.class)</span></span><br></pre></td></tr></table></figure></li>
<li><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FeignClient(value = &quot;xxxService&quot;, configuration = FeignConfig.class)</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="Feign调优"><a href="#Feign调优" class="headerlink" title="Feign调优"></a>Feign调优</h2><p>Feign底层：</p>
<ol>
<li>URLConnection：不支持连接池</li>
<li>Apache HttpClient：</li>
<li>OKHttp</li>
</ol>
<p>具体的连接数和路由数要通过压力测试来进行</p>
<h3 id="使用连接池替换URLConnection"><a href="#使用连接池替换URLConnection" class="headerlink" title="使用连接池替换URLConnection"></a>使用连接池替换URLConnection</h3><ol>
<li>导包<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">feign-httpclient</span><br></pre></td></tr></table></figure></li>
<li>配置文件进行配置<br>feign.httpclient.enable<br>feign.httpclient.max-connections<br>feign.httpclient.max-connections-per-route<h3 id="日志除了debug时候用full，其他时尽可能用BASIC或者NULL"><a href="#日志除了debug时候用full，其他时尽可能用BASIC或者NULL" class="headerlink" title="日志除了debug时候用full，其他时尽可能用BASIC或者NULL"></a>日志除了debug时候用full，其他时尽可能用BASIC或者NULL</h3></li>
</ol>
<h2 id="feign的目前最佳实践"><a href="#feign的目前最佳实践" class="headerlink" title="feign的目前最佳实践"></a>feign的目前最佳实践</h2><h3 id="继承（不推荐，因为紧耦合）"><a href="#继承（不推荐，因为紧耦合）" class="headerlink" title="继承（不推荐，因为紧耦合）"></a>继承（不推荐，因为紧耦合）</h3><p>给消费者的feign的FeignClient和提供者的Controller定义统一的父接口作为标准。</p>
<h3 id="独立模块"><a href="#独立模块" class="headerlink" title="独立模块"></a>独立模块</h3><p>将Feign抽取为独立模块，接口相关的POJO、默认的Feign配置放到这个模块，提供给消费者使用（引入该模块依赖）。</p>
<div class="note info">
            <p>当FeignClient不在SpringBootApplication的扫描包时，解决办法：</p><ol><li><p>指定FeignClient所在包<br> @EnableFeignClients(basePackages = “xxx.xxx.xxx”</p></li><li><p>指定FeignClient的字节码<br> @EnableFeignClients(clients = {UserClient.class})</p></li></ol>
          </div>


<h2 id="SpringCloud-LoadBalancer"><a href="#SpringCloud-LoadBalancer" class="headerlink" title="SpringCloud LoadBalancer"></a>SpringCloud LoadBalancer</h2><ol>
<li>RoundRobin（默认）</li>
<li>Random</li>
</ol>
<h3 id="自定义负载均衡"><a href="#自定义负载均衡" class="headerlink" title="自定义负载均衡"></a>自定义负载均衡</h3><p>配置一个Config的Bean，返回特定需要的负载实例即可</p>
<h3 id="LoadBalancer-OpenFeign"><a href="#LoadBalancer-OpenFeign" class="headerlink" title="LoadBalancer + OpenFeign"></a>LoadBalancer + OpenFeign</h3><h2 id="Gateway"><a href="#Gateway" class="headerlink" title="Gateway"></a>Gateway</h2><ol>
<li>身份认证和权限校验</li>
<li>服务路由、负载均衡</li>
<li>请求限流</li>
</ol>
<p>SpringCloud网关的两个实现：</p>
<ol>
<li>Zuul：基于Servlet的阻塞式编程。（过时）</li>
<li>Gateway：基于Spring5的WebFlux，响应式编程实现，具有更好的性能。</li>
</ol>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><ol>
<li>导包<br>spring-cloud的gateway和nacos-discovery<br>做服务发现<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-gateway<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;gateway.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-nacos-discovery<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;nacos-discovery.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>配置nacos服务地址和路由选择<br>核心配置：<br>1）路由id<br>2）路由url<br>3）路由断言<br>4）过滤器<br><img src="/2021/11/19/SpringCloud/%E9%85%8D%E7%BD%AEnacos.png"></li>
</ol>
<h3 id="路由断言和路由断言工厂"><a href="#路由断言和路由断言工厂" class="headerlink" title="路由断言和路由断言工厂"></a>路由断言和路由断言工厂</h3><p>PathRoutePredicateFactory<br>Sprig提供了11种Predicate工厂</p>
<h3 id="路由过滤器"><a href="#路由过滤器" class="headerlink" title="路由过滤器"></a>路由过滤器</h3><p>Spring提供了31种过滤工厂，配置按照（key, word）形式</p>
<h4 id="DefaultFilter"><a href="#DefaultFilter" class="headerlink" title="DefaultFilter"></a>DefaultFilter</h4><p>默认过滤器</p>
<h4 id="GlobalFilter"><a href="#GlobalFilter" class="headerlink" title="GlobalFilter"></a>GlobalFilter</h4><p>全局过滤器<br>gateway的default-filters是根据配置来进行过滤的，过滤操作是固定的。<br>而如果想自定义根据一定逻辑条件进行过滤，可以用global-filters（需要自己手写类实现GlobalFilter接口，通过代码实现）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Order(int value)</span> </span><br><span class="line"><span class="comment">//执行顺序优先级</span></span><br></pre></td></tr></table></figure>

<h4 id="过滤器执行顺序"><a href="#过滤器执行顺序" class="headerlink" title="过滤器执行顺序"></a>过滤器执行顺序</h4><p>DefaultFilter -&gt; 当前的路由Filter -&gt; GlobalFilter<br>并且按照order的值进行排序（值越小，优先级越高）<br>配置文件的按照配置顺序，order值从1开始，往后并且递增。</p>
<p>也可以自定义Order值（过滤器实现Order类），设定过滤器顺序</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="跨域处理"><a href="#跨域处理" class="headerlink" title="跨域处理"></a>跨域处理</h3><p>网关可以配置CORS跨域</p>
<h2 id="SpringCloudConfig"><a href="#SpringCloudConfig" class="headerlink" title="SpringCloudConfig"></a>SpringCloudConfig</h2><p>使用云端配置服务中心，直接从配置中心调取对应的服务配置</p>
<h3 id="服务端"><a href="#服务端" class="headerlink" title="服务端"></a>服务端</h3><ol>
<li><p>依赖</p>
</li>
<li><p>开启服务</p>
</li>
<li><p>注册到注册中心</p>
</li>
<li><p>创建仓库<br>github或者本地仓库<br>里面写配置文件</p>
</li>
<li><p>读取配置<br>在配置读取里面有不同</p>
</li>
<li><p>github</p>
</li>
<li><p>本地</p>
</li>
</ol>
<h3 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h3><ol>
<li>依赖</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/11/17/MapStruct/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/2.jpeg">
      <meta itemprop="name" content="Tian">
      <meta itemprop="description" content="May you found your worth in the waking world">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Maktub">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/11/17/MapStruct/" class="post-title-link" itemprop="url">MapStruct</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-11-17 19:58:12" itemprop="dateCreated datePublished" datetime="2021-11-17T19:58:12+08:00">2021-11-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-04-21 22:21:05" itemprop="dateModified" datetime="2024-04-21T22:21:05+08:00">2024-04-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%A1%86%E6%9E%B6/" itemprop="url" rel="index"><span itemprop="name">框架</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>对象与对象之间转换的工具</p>
<h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><h2 id="导包"><a href="#导包" class="headerlink" title="导包"></a>导包</h2><h2 id="定义目标对象"><a href="#定义目标对象" class="headerlink" title="定义目标对象"></a>定义目标对象</h2><p>原对象<br>目标对象</p>
<h2 id="定义一个转换接口"><a href="#定义一个转换接口" class="headerlink" title="定义一个转换接口"></a>定义一个转换接口</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;这个注解会自动生成Bean并注册到Spring中</span><br><span class="line">@Mapper(componentModel &#x3D; &quot;spring&quot;)   写在接口上</span><br><span class="line"></span><br><span class="line">@Mapping(&#123;@Mapping(target &#x3D; &quot;xxx&quot;, source &#x3D; &quot;xxx&quot;), ...&#125;) 写在方法上</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="配置编译注解处理器"><a href="#配置编译注解处理器" class="headerlink" title="配置编译注解处理器"></a>配置编译注解处理器</h2><p>maven下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">version</span>&gt;</span>3.8.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">annotationProcessorPaths</span>&gt;</span></span><br><span class="line">				<span class="comment">&lt;!--mapStruct的注解处理器--&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">path</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mapstruct<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mapstruct-processor<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;mapstruct.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line">				<span class="comment">&lt;!--如果还使用了lombok，要引用对应的lombok注解处理器--&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">path</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.16.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">annotationProcessorPaths</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="compile编译，生成对应的class文件"><a href="#compile编译，生成对应的class文件" class="headerlink" title="compile编译，生成对应的class文件"></a>compile编译，生成对应的class文件</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/09/08/AutoWired%E6%B3%A8%E8%A7%A3%E6%96%B9%E5%BC%8F%E4%B8%8D%E6%8E%A8%E8%8D%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/2.jpeg">
      <meta itemprop="name" content="Tian">
      <meta itemprop="description" content="May you found your worth in the waking world">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Maktub">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/08/AutoWired%E6%B3%A8%E8%A7%A3%E6%96%B9%E5%BC%8F%E4%B8%8D%E6%8E%A8%E8%8D%90/" class="post-title-link" itemprop="url">AutoWired注解方式不推荐</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-09-08 20:26:46" itemprop="dateCreated datePublished" datetime="2021-09-08T20:26:46+08:00">2021-09-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-04-21 16:51:32" itemprop="dateModified" datetime="2024-04-21T16:51:32+08:00">2024-04-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%A1%86%E6%9E%B6/" itemprop="url" rel="index"><span itemprop="name">框架</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>471</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="不推荐"><a href="#不推荐" class="headerlink" title="不推荐"></a>不推荐</h2><p>每次都是使用@Autowired，用习惯。直到有次发现注解报错，上面写着不推荐使用该注解。</p>
<p>Filed注入的缺点：</p>
<ol>
<li>不能像构造器一样注入不可变的对象</li>
<li>依赖对外部不可见，外界可以看到构造器和setter，但是无法看到私有字段，自然无法了解所需依赖。</li>
<li>会导致组件和IoC容器紧耦合，离开了IoC容器就无法使用，注入依赖时也变得困难</li>
<li>单元测试也必须使用IoC容器</li>
<li>依赖过多时，构造器注入会显得庞大</li>
</ol>
<h2 id="官方推荐"><a href="#官方推荐" class="headerlink" title="官方推荐"></a>官方推荐</h2><h3 id="构造器注入"><a href="#构造器注入" class="headerlink" title="构造器注入"></a>构造器注入</h3><p>强依赖性（必须使用此依赖），不变性（依赖不会变动）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">final UserDao userDao</span><br><span class="line"></span><br><span class="line">public UserServiceImpl(UserDao userDao) &#123;</span><br><span class="line">  this.userDao &#x3D; userDao;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Setter注入"><a href="#Setter注入" class="headerlink" title="Setter注入"></a>Setter注入</h3><p>弱依赖性（没有此依赖也可以工作），可变性（依赖可以变动）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">private UserDao userdao;</span><br><span class="line"></span><br><span class="line">public void setUserDao(UserDao userDao) &#123;</span><br><span class="line">  this.userDao &#x3D; userDao;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Resource"><a href="#Resource" class="headerlink" title="@Resource"></a>@Resource</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/09/07/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/2.jpeg">
      <meta itemprop="name" content="Tian">
      <meta itemprop="description" content="May you found your worth in the waking world">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Maktub">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/07/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/" class="post-title-link" itemprop="url">快速排序</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-09-07 23:19:08" itemprop="dateCreated datePublished" datetime="2021-09-07T23:19:08+08:00">2021-09-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-07-31 15:10:07" itemprop="dateModified" datetime="2022-07-31T15:10:07+08:00">2022-07-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">数据结构与算法</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>152</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ol>
<li>选择一个作为Pivot（一般是第一个）</li>
<li>选择左右边界L、R，L向右扫描，R向左扫描。如果有扫描没有移动，则继续移动当前移动的。</li>
<li>大于Pivot的放在Pivot右边</li>
<li>小于Pivot的放在Pivot左边</li>
<li>直到L与R相遇</li>
<li>此时把Pivot放置在相遇处，分出两个左右子序列</li>
<li>递归操作左右子序列</li>
<li>直到子序列长度为1，不用排序</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/08/17/Docker/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/2.jpeg">
      <meta itemprop="name" content="Tian">
      <meta itemprop="description" content="May you found your worth in the waking world">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Maktub">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/17/Docker/" class="post-title-link" itemprop="url">Docker</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-17 10:08:18" itemprop="dateCreated datePublished" datetime="2021-08-17T10:08:18+08:00">2021-08-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-04-21 23:07:38" itemprop="dateModified" datetime="2024-04-21T23:07:38+08:00">2024-04-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%BF%90%E7%BB%B4/" itemprop="url" rel="index"><span itemprop="name">运维</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.7k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>4 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><h2 id="为什么会出现Docker"><a href="#为什么会出现Docker" class="headerlink" title="为什么会出现Docker"></a>为什么会出现Docker</h2><p>环境需要开发和上线，两套环境<br>环境配置麻烦，环境问题也会经常出现。<br>所以需要，发布项目的时候，打包的时候把环境一起打包起来。<br>如今开发、打包、部署、上线，一套流程走完。<br>主要是当前技术存在问题，所以需要新的东西来去解决。</p>
<h2 id="Docker历史"><a href="#Docker历史" class="headerlink" title="Docker历史"></a>Docker历史</h2><p>dotCloud — 做pass的云计算服务，慢慢做了一套linux容器化技术<br>然后将该技术命名为Docker。<br>2013年，公司活不下去，然后宣布开源。<br>使用人越来越多后，每个月更新一个版本。<br>Docker技术之前，比较火的是虚拟机技术，Docker是容器技术，本质其实也是虚拟机技术。<br>Docker基于Go语言开发</p>
<h2 id="官网"><a href="#官网" class="headerlink" title="官网"></a>官网</h2><p><a target="_blank" rel="noopener" href="https://www.docker.com/">https://www.docker.com</a><br>文档地址：<a target="_blank" rel="noopener" href="https://docs.docker.com/">https://docs.docker.com</a><br>仓库地址： <a target="_blank" rel="noopener" href="https://hub.docker.com/">https://hub.docker.com</a></p>
<h2 id="容器化技术和虚拟机技术的区别"><a href="#容器化技术和虚拟机技术的区别" class="headerlink" title="容器化技术和虚拟机技术的区别"></a>容器化技术和虚拟机技术的区别</h2><p>虚拟机技术：虚拟一个完整的系统，包含各种硬件，安装和运行应用<br>容器化技术：模拟的不是全部的系统，容器直接运行在宿主机的内核，容器没有自己的内核，也没有虚拟硬件，且容器间是隔离的，互不干扰。</p>
<h1 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h1><h2 id="应用更快速的开发和部署"><a href="#应用更快速的开发和部署" class="headerlink" title="应用更快速的开发和部署"></a>应用更快速的开发和部署</h2><h2 id="更好的升级和扩缩容"><a href="#更好的升级和扩缩容" class="headerlink" title="更好的升级和扩缩容"></a>更好的升级和扩缩容</h2><h2 id="更简单的系统运维"><a href="#更简单的系统运维" class="headerlink" title="更简单的系统运维"></a>更简单的系统运维</h2><h2 id="更高效的资源利用"><a href="#更高效的资源利用" class="headerlink" title="更高效的资源利用"></a>更高效的资源利用</h2><h1 id="Docker组成"><a href="#Docker组成" class="headerlink" title="Docker组成"></a>Docker组成</h1><h2 id="镜像（image）"><a href="#镜像（image）" class="headerlink" title="镜像（image）"></a>镜像（image）</h2><p>镜像有点像一个模板，容器可以按照这个模板执行操作。</p>
<h2 id="容器（container）"><a href="#容器（container）" class="headerlink" title="容器（container）"></a>容器（container）</h2><p>容器，运行的镜像，独立运行一个或一组应用，一个简易的环境。<br>启动、停止、删除等基本命令。</p>
<h2 id="仓库（repository）"><a href="#仓库（repository）" class="headerlink" title="仓库（repository）"></a>仓库（repository）</h2><p>存放镜像的地方<br>私有仓库、公有仓库。</p>
<h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>见官方文档：<a target="_blank" rel="noopener" href="https://docs.docker.com/engine/install/">https://docs.docker.com/engine/install/</a></p>
<ol>
<li>卸载旧版本</li>
<li>安装环境</li>
<li>配置docker仓库<br>建议配置docker的阿里云仓库</li>
<li>安装docker引擎</li>
<li>启动docker<br>systemctl start docker</li>
<li>运行测试<br>docker run xxx.image<br><img src="/2021/08/17/Docker/docker-run.png"></li>
<li>查看下载的镜像是否存在<br>docker images</li>
</ol>
<div class="note info">
            <p>docker默认工作路径：/var/lib/docker</p>
          </div>
<h2 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h2><h2 id="阿里云镜像加速"><a href="#阿里云镜像加速" class="headerlink" title="阿里云镜像加速"></a>阿里云镜像加速</h2><ol>
<li>登陆阿里云</li>
<li>镜像服务——镜像加速期</li>
</ol>
<h1 id="Docker底层原理"><a href="#Docker底层原理" class="headerlink" title="Docker底层原理"></a>Docker底层原理</h1><p>C/S结构的系统<br>docker-server接收docker-cli的指令，然后执行这些指令。</p>
<ol>
<li>Docker拥有比虚拟机更少的抽象层</li>
<li>Docker利用宿主的内核</li>
</ol>
<h1 id="Docker常用命令"><a href="#Docker常用命令" class="headerlink" title="Docker常用命令"></a>Docker常用命令</h1><p>具体详细命令见文档：</p>
<h2 id="帮助命令"><a href="#帮助命令" class="headerlink" title="帮助命令"></a>帮助命令</h2><h3 id="docker-version"><a href="#docker-version" class="headerlink" title="docker version"></a>docker version</h3><h3 id="docker-info"><a href="#docker-info" class="headerlink" title="docker info"></a>docker info</h3><h3 id="docker-命令-–help"><a href="#docker-命令-–help" class="headerlink" title="docker 命令 –help"></a>docker 命令 –help</h3><h3 id="等等"><a href="#等等" class="headerlink" title="等等"></a>等等</h3><h2 id="镜像命令"><a href="#镜像命令" class="headerlink" title="镜像命令"></a>镜像命令</h2><h3 id="docker-images-可选参数"><a href="#docker-images-可选参数" class="headerlink" title="docker images [可选参数]"></a>docker images [可选参数]</h3><p>查看本地镜像<br>Repository：镜像仓库源<br>TAG：镜像标签<br>IMAGE ID：镜像ID<br>CREATED：镜像创建时间<br>SIZE：镜像大小</p>
<div class="note info">
            <p>可选参数：<br>  -a：-all<br>  -q：-quiet 只显示id</p>
          </div>
<h3 id="docker-search-可选参数"><a href="#docker-search-可选参数" class="headerlink" title="docker search [可选参数]"></a>docker search [可选参数]</h3><p>docker仓库搜索</p>
<div class="note info">
            <p>可选参数：<br>  –filter=条件</p>
          </div>
<h3 id="docker-pull-镜像名-tag"><a href="#docker-pull-镜像名-tag" class="headerlink" title="docker pull [镜像名:tag]"></a>docker pull [镜像名:tag]</h3><p>下载镜像，如果不写tag，默认是下载latest<br>docker是分层下载，已经拥有的东西不会下载。<br><img src="/2021/08/17/Docker/docker-pull.png"></p>
<h3 id="docker-rmi-id…"><a href="#docker-rmi-id…" class="headerlink" title="docker rmi [id…]"></a>docker rmi [id…]</h3><ol>
<li>docker rmi id<br>id可以简写，部分字符即可以确定唯一id镜像</li>
<li>docker rmi id1 id2 id3<br>删除多个镜像</li>
<li><code>docker rmi -f $(docker images -aq)</code><br>全部删除镜像（递归删除）</li>
</ol>
<h2 id="容器命令"><a href="#容器命令" class="headerlink" title="容器命令"></a>容器命令</h2><h3 id="docker-run-可选参数-image"><a href="#docker-run-可选参数-image" class="headerlink" title="docker run [可选参数] image"></a>docker run [可选参数] image</h3><div class="note info">
            <p>可选参数：<br>  –name=”name”：指定容器名字l<br>  -d：后台方式运行<br>  -it：-i -t的缩写，使用交互方式运行，进入容器查看内容<br>  -P：指定端口  主机映射端口：容器端口<br>  -p：随机端口</p>
          </div>


<h3 id="docker-start-容器id"><a href="#docker-start-容器id" class="headerlink" title="docker start [容器id]"></a>docker start [容器id]</h3><h3 id="docker-restart-容器id"><a href="#docker-restart-容器id" class="headerlink" title="docker restart [容器id]"></a>docker restart [容器id]</h3><h3 id="docker-stop-容器id"><a href="#docker-stop-容器id" class="headerlink" title="docker stop [容器id]"></a>docker stop [容器id]</h3><h3 id="docker-kill-容器id"><a href="#docker-kill-容器id" class="headerlink" title="docker kill [容器id]"></a>docker kill [容器id]</h3><h3 id="docker-ps-可选参数"><a href="#docker-ps-可选参数" class="headerlink" title="docker ps [可选参数]"></a>docker ps [可选参数]</h3><div class="note info">
            <p>可选参数：<br>  -a：列出当前正在运行的容器 + 历史运行的容器（所有）<br>  -n=x：显示最近创建的x个容器<br>  -aq：当前所有运行的容器</p>
          </div>

<h3 id="退出容器"><a href="#退出容器" class="headerlink" title="退出容器"></a>退出容器</h3><p>exit：停止并退出容器<br>ctrl + p + q：退出容器（不停止）</p>
<h3 id="docker-rm-可选参数-容器id"><a href="#docker-rm-可选参数-容器id" class="headerlink" title="docker rm [可选参数]  [容器id]"></a>docker rm [可选参数]  [容器id]</h3><p>删除容器（不能删除正在运行的）<br>强制删除 <code>docker rm -f $(docker ps -aq)</code></p>
<h2 id="常用其他命令"><a href="#常用其他命令" class="headerlink" title="常用其他命令"></a>常用其他命令</h2><h3 id="docker-run-d-容器名"><a href="#docker-run-d-容器名" class="headerlink" title="docker run -d [容器名]"></a>docker run -d [容器名]</h3><p>后台启动</p>
<div class="note warning">
            <p>docker容器使用后台运行的时候，就必须要有前台进程。而当docker发现没有前台应用的时候，就会自动停止。</p>
          </div>

<h3 id="docker-logs-f-n-num-t-容器id"><a href="#docker-logs-f-n-num-t-容器id" class="headerlink" title="docker logs -f -n num -t [容器id]"></a>docker logs -f -n num -t [容器id]</h3><p>查看日志<br>-f：Follow log output<br>-t：Show timestamps<br>-n num：Number of lines to show from the end of the logs</p>
<h3 id="docker-top-容器id"><a href="#docker-top-容器id" class="headerlink" title="docker top [容器id]"></a>docker top [容器id]</h3><p>查看容器内的信息</p>
<h3 id="docker-inspect-容器id"><a href="#docker-inspect-容器id" class="headerlink" title="docker inspect [容器id]"></a>docker inspect [容器id]</h3><p>查看镜像的元数据</p>
<h3 id="docker-exec-i-t-容器id-bin-bash"><a href="#docker-exec-i-t-容器id-bin-bash" class="headerlink" title="docker exec -i -t [容器id] /bin/bash"></a>docker exec -i -t [容器id] /bin/bash</h3><p>进入运行的容器，并启动一个新的终端，执行命令。<br>我们有时候需要进入容器，修改一些配置</p>
<h3 id="docker-attach-容器id"><a href="#docker-attach-容器id" class="headerlink" title="docker attach  [容器id]"></a>docker attach  [容器id]</h3><p>attach 不会在容器中创建进程（终端）执行额外的命令，只是附着到容器上.</p>
<h3 id="docker-cp-容器id-容器内路径-主机路径"><a href="#docker-cp-容器id-容器内路径-主机路径" class="headerlink" title="docker cp 容器id:容器内路径 主机路径"></a>docker cp 容器id:容器内路径 主机路径</h3><p>复制容器的内容到主机。</p>
<div class="note info">
            <p>拷贝是手动，后续可以使用-v 来实现自动管理</p>
          </div>

<h3 id="docker-stats"><a href="#docker-stats" class="headerlink" title="docker stats"></a>docker stats</h3><p>查看docker运行状态，没有u</p>
<h1 id="Docker官方指导操作"><a href="#Docker官方指导操作" class="headerlink" title="Docker官方指导操作"></a>Docker官方指导操作</h1><p><a target="_blank" rel="noopener" href="https://docs.docker.com/get-started/">https://docs.docker.com/get-started/</a><br>按照步骤来，可以熟悉docker的基本使用</p>
<h1 id="Docker练习"><a href="#Docker练习" class="headerlink" title="Docker练习"></a>Docker练习</h1><h2 id="部署mysql"><a href="#部署mysql" class="headerlink" title="部署mysql"></a>部署mysql</h2><h2 id="部署tomcat"><a href="#部署tomcat" class="headerlink" title="部署tomcat"></a>部署tomcat</h2><p>官方建议<br>docker run -it –rm tomcat: 版本<br>–rm 用来测试，容器用完之后，就删除容器。（ps 找不到，但是images可以看到）</p>
<h2 id="部署ES-kibana"><a href="#部署ES-kibana" class="headerlink" title="部署ES+kibana"></a>部署ES+kibana</h2><p>修改es配置文件，-e 配置内容 运行<br>比如-e ES_JAVA_OPTS=”-Xms256m -Xmx1024m”</p>
<h1 id="Portainer和Rancher"><a href="#Portainer和Rancher" class="headerlink" title="Portainer和Rancher"></a>Portainer和Rancher</h1><p>portainer ： docker图形化管理工具</p>
<h1 id="Docker镜像原理"><a href="#Docker镜像原理" class="headerlink" title="Docker镜像原理"></a>Docker镜像原理</h1><p>docker镜像是一个独立的软件包，包括代码、运行时、环境库以及变量和配置文件等。</p>
<h2 id="镜像加载原理"><a href="#镜像加载原理" class="headerlink" title="镜像加载原理"></a>镜像加载原理</h2><p>UnionFS（联合文件系统），分层、轻量级并且高性能的文件系统。<br>支持对文件系统的修改作为一次一次的提交叠加。可以把不同目录的文件挂载到同一个虚拟文件系统下。</p>
<h3 id="BootFS"><a href="#BootFS" class="headerlink" title="BootFS"></a>BootFS</h3><p>包含bootloader和kernel，容器启动时，会加载BootFS的系统文件。当boot加载完成，容器系统的内核代码均在内存中，然后将内存使用权由bootfs交给内核，此时容器会卸载BootFS</p>
<h3 id="RootFS"><a href="#RootFS" class="headerlink" title="RootFS"></a>RootFS</h3><p>标准linux的目录和文件系统</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Tian"
      src="/images/2.jpeg">
  <p class="site-author-name" itemprop="name">Tian</p>
  <div class="site-description" itemprop="description">May you found your worth in the waking world</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">76</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/eternaleva" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;eternaleva" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Tian</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">220k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">6:06</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":false},"react":{"opacity":0.7}});</script></body>
</html>
